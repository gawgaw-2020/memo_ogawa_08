<?php include(dirname(__FILE__).'/_inc/_header.html'); ?>

  <main>
    <h1 class="heading heading--level2">ã‚¬ãƒ³ãƒãƒ¬!!</h1>
    <section class="workout-area">
      <p id="text" class="text">çµ‚ã‚ã£ãŸã‚‰ãƒªã‚¹ãƒˆã‚’é¸æŠ!!</p>
      <ul id="clickable-list">
        
      </ul>
      <a class="btn btn--cancel" href="#" onclick="history.back()">æˆ»ã‚‹</a>
    </section>
    <section class="app-btns">
      <a class="btn btn--primary" href="fb129765800430121://">Feedly</a>
      <a class="btn btn--primary" href="kindle://">Kindle</a>
      <a class="btn btn--primary" href="youtube://">YouTube</a>
      <a class="btn btn--primary" href="twitter://">Twitter</a>
    </section>
    </main>

  <?php include(dirname(__FILE__).'/_inc/_footer.html'); ?>

  <!-- ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script>
    $('#complete-image').hide();
    // ä¸¦ã³æ›¿ãˆã¦å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é…åˆ—ã¨ã—ã¦æ ¼ç´
    // 1.ã‚­ãƒ¼ã®ä¸€è¦§ã‚’é…åˆ—ã¨ã—ã¦å–å¾—
    // 2.sort()ã§ä¸¦ã³æ›¿ãˆ
    // 3.map()ã§æ–°ã—ã„é…åˆ—ã‚’ä½œæˆ å¼•æ•°ã¯keyã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®valueã‚’åŠ ãˆãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¦ã„ã‚‹
    const collection = Object.keys(localStorage).sort().map((key) => {
      return {
          key: key,
          value: localStorage.getItem(key)
      }
    });

    // idã‚’ä»˜ã‘ãªãŒã‚‰ä¸‹éƒ¨ã«htmlç”Ÿæˆ
    for (let i = 0; i < localStorage.length; i++) {
      const key = collection[i].key;
      const todo = collection[i].value;
      const h = '<tr id=list'+key+'><td>' + todo + '</td></tr>';
      $("#clickable-list").append(h);
    }

    // ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’æ¶ˆã™ï¼†ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å‰Šé™¤ã™ã‚‹é–¢æ•°
    function listFadeOutLocalremove(i) {
      $(`#list${i}`).remove();
      localStorage.removeItem(i);
      const elem = $('tr');
      console.log(elem);
      if(elem.length === 0){
      /** "ç©º"ã®ã¨ãã®å‡¦ç† */
      const randomNumber = Math.floor(Math.random() * 2);
      const h = `<p id="complete-image"><img src="/memo_ogawa_08/image/complete${randomNumber}.jpeg" ></p>`;
      $("#clickable-list").append(h);
      $('#text').html('ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸğŸ˜†');
      }
    }

    $('#list00').on('click', () => {
      listFadeOutLocalremove('00')
    });
    $('#list01').on('click', () => {
      listFadeOutLocalremove('01')
    });
    $('#list02').on('click', () => {
      listFadeOutLocalremove('02')
    });
    $('#list03').on('click', () => {
      listFadeOutLocalremove('03')
    });
    $('#list04').on('click', () => {
      listFadeOutLocalremove('04')
    });
    $('#list05').on('click', () => {
      listFadeOutLocalremove('05')
    });
    $('#list06').on('click', () => {
      listFadeOutLocalremove('06')
    });
    $('#list07').on('click', () => {
      listFadeOutLocalremove('07')
    });
    $('#list08').on('click', () => {
      listFadeOutLocalremove('08')
    });
    $('#list09').on('click', () => {
      listFadeOutLocalremove('09')
    });
    $('#list10').on('click', () => {
      listFadeOutLocalremove('10')
    });
    $('#list11').on('click', () => {
      listFadeOutLocalremove('11')
    });
    $('#list12').on('click', () => {
      listFadeOutLocalremove('12')
    });
    $('#list13').on('click', () => {
      listFadeOutLocalremove('13')
    });
    $('#list14').on('click', () => {
      listFadeOutLocalremove('14')
    });
    $('#list15').on('click', () => {
      listFadeOutLocalremove('15')
    });
    $('#list16').on('click', () => {
      listFadeOutLocalremove('16')
    });
    $('#list17').on('click', () => {
      listFadeOutLocalremove('17')
    });
    $('#list18').on('click', () => {
      listFadeOutLocalremove('18')
    });
    $('#list19').on('click', () => {
      listFadeOutLocalremove('19')
    });
    $('#list20').on('click', () => {
      listFadeOutLocalremove('20')
    });
    

  </script>

  <?php include(dirname(__FILE__).'/_inc/_common-script.html'); ?>


